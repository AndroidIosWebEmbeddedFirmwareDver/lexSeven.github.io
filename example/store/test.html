<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
    <title>Clamp.js Example 1</title>
    <style>
        .box{
            width:300px;
            border:1px solid #0a3b98;
            line-height:40px;
        }
    </style>

</head>
<body>

<div class="shop-inf">
    <div class="logo"></div>
    <div class="name-box">
        <h2 class="name">SWAROVSKI专营店</h2>
        <div class="identification">
            <div class="flagship-store-box">
                <div class="flagship-store">旗舰店</div>
            </div>
            <div class="store-inf">商家信息</div>
        </div>
    </div>
    <div class="follow-btn-box">
        <span>关注有礼</span>
    </div>
</div>

    <div class="box" data-isshow="false" data-text=".mult_line_ellipsis{//多行文本溢出
        overflow: hidden;
        text-overflow:ellipsis;//文本溢出显示省略号
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        width:130px;
        background-color:cornflowerblue;">
        .mult_line_ellipsis{//多行文本溢出
        overflow: hidden;
        text-overflow:ellipsis;//文本溢出显示省略号
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        width:130px;
        background-color:cornflowerblue;
    </div>
    <div class="btn">全文</div>


    <div class="box" data-isshow="false" data-text="splitOnChars (Array). Determines what characters to use to chunk an element into smaller pieces. Version 0.1 of Clamp.js would always remove each individual character to check for fit. With v0.2, you now have an option to pass a list of characters it can use.">
        splitOnChars (Array). Determines what characters to use to chunk an element into smaller pieces. Version 0.1 of Clamp.js would always remove each individual character to check for fit. With v0.2, you now have an option to pass a list of characters it can use.
    </div>
    <div class="btn">全文</div>
<script src="js/Clamp.min.js"></script>
<script>

    var box = document.querySelectorAll('.box');
    for(var i=0;i<box.length;i++){
        $clamp(box[i], {clamp: 4, useNativeClamp: false});
    }

    var btn = document.querySelectorAll('.btn');
    Array.from(btn).forEach(function(item,key){
        item.onclick = function(){
            if(box[key].dataset.isshow == 'false'){
                box[key].innerText = box[key].dataset.text;
                $clamp(box[key], {
                    clamp: 'auto',
                    useNativeClamp: false,
                    truncationChar:'    '
                });
                box[key].dataset.isshow = 'true';
                this.innerText = '收起';
            }else{
                $clamp(box[key], {
                    clamp: '4',
                    useNativeClamp: false,
                });
                box[key].dataset.isshow = 'false'
                this.innerText = '全文';
            }
        }
    })
</script>
</body>
</html>
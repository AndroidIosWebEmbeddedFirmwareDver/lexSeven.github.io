<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body{
            margin: 0;
            background: #ffc730;
        }
        #lottie{
            width:10vw;
            height:10vw;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }
    </style>
    <script src="js/lottie.min.js"></script>
</head>
<body>

<div id="lottie">
</div>


<script>
    var container = document.getElementById('lottie');
    var animData = {
        container: container,
        renderer: 'svg',
        loop: true,
        prerender: false,
        autoplay: true,
        autoloadSegments: false,
        path: 'js/data.json'
    };

    var anim;
    var isHitting = false;


    anim = bodymovin.loadAnimation(animData);
    anim.setSpeed(1.2)
    anim.addEventListener('DOMLoaded', startAnimation);
    click_r.onclick = hitRight;
    click_l.onclick = hitLeft;

    function hitComplete() {
        isHitting = false;
        anim.removeEventListener('loopComplete', hitComplete);
    }

    function hitRight() {
        if (isHitting) {
            return;
        }
        isHitting = true;
        anim.playSegments([
            [75, 95],
            [65, 75]
        ], true);
        anim.addEventListener('loopComplete', hitComplete);
    }


    function hitLeft() {
        if (isHitting) {
            return;
        }
        isHitting = true;
        anim.playSegments([
            [95, 115],
            [65, 75]
        ], true);
        anim.addEventListener('loopComplete', hitComplete);
    }

    function startAnimation() {
        anim.playSegments([
            [0, 85],
            [0, 85]
        ], true);
    }
</script>

<script>
    // var container = document.getElementById('lottie');
    // var animData = {
    //     container: container,
    //     renderer: 'svg',
    //     loop: true,
    //     prerender: false,
    //     autoplay: true,
    //     autoloadSegments: false,
    //     path: 'js/data.json'
    // };
    //
    // var anim = bodymovin.loadAnimation(animData);
    // anim.playSegments([
    //     [20, 25],
    //     [35, 55]
    // ], true);
</script>

</body>
</html>